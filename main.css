:root{
  --bg:#fafafa;
  --paper:#ffffff;
  --ink:#0a0a0a;
  --muted:#666;
  --border:#e7e7e7;
  --accent:#1d4ed8;
  --tile-hover:#f3f4f6;
  --btn-bg:#111;
  --btn-fg:#fff;
}

html[data-theme="dark"]{
  --bg:#0b0b0c;
  --paper:#0f0f10;
  --ink:#ffffff;
  --muted:#cfcfcf;
  --border:#262626;
  --accent:#8ab4ff;
  --tile-hover:#1a1a1c;
  --btn-bg:#ffffff;   /* Notify button becomes white */
  --btn-fg:#000000;   /* text becomes black */
}

*{box-sizing:border-box}
html,body{margin:0;padding:0}
body{
  font-family: ui-sans-serif,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
  background:var(--bg); color:var(--ink); line-height:1.6;
}

/* Header */
.site-header{position:sticky;top:0;z-index:50;background:var(--paper);border-bottom:1px solid var(--border)}
.topbar{
  max-width:1100px;margin:0 auto;padding:8px 12px; /* tighter */
  display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:8px;
}
.icon{display:block}
.icon-btn{
  display:inline-grid; place-items:center;
  width:36px;height:36px;border:0;background:transparent;border-radius:8px;color:var(--ink);cursor:pointer;
}
.icon-btn:focus{outline:none}
.icon-btn:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.14)} /* keyboard only ring */

.logo-link{justify-self:center}
.wordmark{display:block;max-width:560px;height:auto}
@media (max-width: 480px){
  .wordmark{max-width:340px}
}

/* Show only one theme icon at a time (JS sets initial state too) */
.icon-moon{display:none}

/* Desktop nav */
.nav.desktop-nav{display:flex;justify-content:center;gap:18px;padding:8px 0}
.nav.desktop-nav a{text-decoration:none;color:inherit;padding:4px 6px;border-radius:6px}
.nav.desktop-nav a:hover{background:var(--tile-hover)}

/* Panel below hamburger */
.panel{
  position:absolute;left:12px;top:56px; /* under header */
  width:min(620px, calc(100% - 24px));
  background:var(--paper);border:1px solid var(--border);border-radius:14px;
  box-shadow:0 12px 30px rgba(0,0,0,.12);
  transform:translateY(-8px);opacity:0;pointer-events:none;transition:transform .18s ease,opacity .18s ease;
  z-index:60;
}
.panel[hidden]{display:block}
#panel:not([hidden]){transform:translateY(0);opacity:1;pointer-events:auto}
.panel-inner{padding:12px}

.panel-search{display:flex;align-items:center;margin:4px 0 10px}
.search-input{width:100%;padding:.65rem .8rem;border:1px solid var(--border);border-radius:10px;background:var(--paper);color:var(--ink)}

.panel-nav{display:grid;gap:8px}
.panel-nav a{
  display:block;text-decoration:none;color:inherit;padding:10px 12px;border-radius:10px;
  transition: background .15s ease, transform .12s ease, font-weight .12s linear;
}
@media (prefers-reduced-motion: no-preference){
  .panel-nav a:hover{transform:translateY(-1px)}
}
.panel-nav a:hover{background:var(--tile-hover);font-weight:700}
.panel-nav a.is-current{background:var(--tile-hover);font-weight:700}

/* Main layout */
.container{max-width:1100px;margin:0 auto;padding:20px 16px}
.rail{margin-top:18px}
.center{text-align:center}

/* Hero */
.hero{background:var(--paper);border:1px solid var(--border);border-radius:12px;padding:22px}
.hero-center{text-align:center}
.headline{margin:0 0 8px}
.same-color{color:var(--ink)} /* force black/white depending on theme */
.muted a{color:var(--accent)}

/* Issues */
.issues-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:14px}
@media (max-width: 900px){ .issues-grid{grid-template-columns:1fr 1fr} }
@media (max-width: 520px){ .issues-grid{grid-template-columns:1fr} }
.issue-card{position:relative;display:block;background:var(--paper);border:1px solid var(--border);border-radius:12px;overflow:hidden;color:inherit;text-decoration:none}
.issue-card img{display:block;width:100%;height:auto}
.issue-meta{padding:12px}
.issue-title{font-weight:700;margin-bottom:6px}
.issue-tease{margin:0 0 8px;color:var(--ink)}

/* CTA */
.cta .cta-box{background:var(--paper);border:1px solid var(--border);border-radius:12px;padding:18px;display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap}
.cta input{padding:.6rem .8rem;border:1px solid var(--border);border-radius:8px;min-width:240px;background:var(--paper);color:var(--ink)}
.btn-primary{
  padding:.6rem 1rem;border-radius:8px;border:0;background:var(--btn-bg);color:var(--btn-fg);
  font-weight:700;
}

/* Footer */
.site-footer{
  border-top:1px solid var(--border);background:var(--paper);
  padding:18px 16px;margin-top:24px;color:var(--ink);
  display:flex;justify-content:space-between;gap:12px
}
.site-footer a{color:inherit;text-decoration:none}
@media (max-width: 520px){ .site-footer{font-size:.9rem} }

/* Body lock when menu open */
.no-scroll{overflow:hidden}
